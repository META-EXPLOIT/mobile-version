package br.com.metaexploit.diversight.ui

import android.os.Bundle
import android.util.Log
import android.view.View
import androidx.appcompat.widget.AppCompatImageView
import androidx.fragment.app.Fragment
import androidx.navigation.fragment.findNavController
import androidx.navigation.fragment.navArgs
import androidx.recyclerview.widget.RecyclerView
import br.com.metaexploit.diversight.R
import br.com.metaexploit.diversight.data.Pergunta
import br.com.metaexploit.diversight.ui.adapter.SurveyAdapter

class SurveyFragment : Fragment(R.layout.fragment_survey) {

    private val args: SurveyFragmentArgs by navArgs()
    private lateinit var btnBack: AppCompatImageView
    private lateinit var recyclerView: RecyclerView
    private val adapter by lazy {
        SurveyAdapter()
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        btnBack = view.findViewById(R.id.fg_survey_back)
        recyclerView = view.findViewById(R.id.fg_survey_recyclerview)
        recyclerView.adapter = adapter

        btnBack.setOnClickListener {
            findNavController().popBackStack()
        }

        val listOfQuestion: MutableList<Pergunta> = mutableListOf()

        var counter = 0
        while (counter < args.pergunta.content.size) {
            listOfQuestion.add(counter, Pergunta(
                args.pergunta.content[counter].type,
                args.pergunta.content[counter].enunciated,
                args.pergunta.content[counter].questionOptions
            ))
            counter += 1
        }

        adapter.getSurvey(listOfQuestion)

    }
}

//        adapter.getSurvey(
//            listOf(
//                Pergunta(
//                    "Quanto tempo de Empresa X você tem?",
//                    listOf(
//                        "Período de experiência (menos de 90 dias)",
//                        "Entre 3 meses e 1 ano",
//                        "Entre 1 ano e 3 anos",
//                        "Entre 3 anos e 5 anos",
//                        "Mais de 5 anos"
//                    )
//                ),
//                Pergunta(
//                    "Em uma escala de 0 a 10, o quanto você recomendaria nossa empresa como um bom local de trabalho para um amigo ou colega?",
//                    listOf(
//                        "0",
//                        "1",
//                        "2",
//                        "3",
//                        "4",
//                        "5",
//                        "6",
//                        "7",
//                        "8",
//                        "9",
//                        "10"
//                    )
//                ),
//                Pergunta(
//                    "Em uma escala de 0 a 10, o quanto você recomendaria a pessoa que te lidera como uma boa pessoa para se trabalhar?",
//                    listOf(
//                        "0",
//                        "1",
//                        "2",
//                        "3",
//                        "4",
//                        "5",
//                        "6",
//                        "7",
//                        "8",
//                        "9",
//                        "10"
//                    )
//                ),
//                Pergunta(
//                    "Em uma escala de 0 a 5, o quão diverso você considera o quadro de funcionários da Empresa X?",
//                    listOf(
//                        "0",
//                        "1",
//                        "2",
//                        "3",
//                        "4",
//                        "5"
//                    )
//                ),
//                Pergunta(
//                    "Você se sente acolhido dentro do ambiente de trabalho?",
//                    listOf(
//                        "Nunca me sinto acolhido(a).",
//                        "Na maioria das vezes me sinto acolhido(a).",
//                        "Às vezes me sinto acolhido(a).",
//                        "Me sinto frequentemente acolhido(a).",
//                        "Sempre me sinto acolhido(a)."
//                    )
//                ),
//                Pergunta(
//                    "Você já sentiu que teve menos oportunidades do que outras pessoas na Empresa X?",
//                    listOf(
//                        "Sempre sinto que tenho menos oportunidades.",
//                        "Frequentemente sinto que tenho menos oportunidades.",
//                        "Às vezes sinto que tenho menos oportunidades.",
//                        "Nunca senti que tive menos oportunidades."
//                    )
//                )
//            )
//        )
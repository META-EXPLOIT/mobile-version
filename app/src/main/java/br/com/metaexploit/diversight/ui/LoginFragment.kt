package br.com.metaexploit.diversight.ui

import android.os.Build
import android.os.Bundle
import android.util.Log
import android.view.View
import androidx.appcompat.widget.AppCompatTextView
import androidx.core.content.res.ResourcesCompat
import androidx.fragment.app.Fragment
import androidx.navigation.fragment.findNavController
import br.com.metaexploit.diversight.R
import com.google.android.material.button.MaterialButton

class LoginFragment : Fragment(R.layout.fragment_login) {

    private lateinit var singUp: AppCompatTextView
    private lateinit var login: MaterialButton

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
            val decor = activity?.window?.decorView
            iconWhite = if (iconWhite) {
                decor?.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR)
                false
            } else {
                Log.i("TESTE", "TO AQUI")
                decor?.setSystemUiVisibility(0)
                true
            }
        }

        activity?.window?.statusBarColor =
            ResourcesCompat.getColor(resources, R.color.white, null)

        singUp = view.findViewById(R.id.sing_up_2)
        singUp.setOnClickListener {
            findNavController().navigate(
                LoginFragmentDirections.actionLoginFragmentToSingUpFragment()
            )
        }

        login = view.findViewById(R.id.login_button)
        login.setOnClickListener {
            findNavController().navigate(
                LoginFragmentDirections.actionLoginFragmentToMainFragment()
            )
        }
    }
}